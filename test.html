<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MasonEffect í…ŒìŠ¤íŠ¸</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      background: #000;
      color: #fff;
      font-family: system-ui, -apple-system, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
    }
    h1 {
      margin-bottom: 20px;
      text-align: center;
    }
    .container {
      width: 100%;
      /* max-width: 1400px; */
      height: 100vh;
      min-height: 500px;
      border: 2px solid #333;
      border-radius: 8px;
      background: #111;
      margin-bottom: 20px;
    }
    .controls {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 20px;
    }
    button {
      padding: 12px 24px;
      background: #333;
      color: #fff;
      border: 1px solid #555;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      transition: all 0.2s;
    }
    button:hover {
      background: #444;
      border-color: #666;
    }
    button:active {
      transform: scale(0.98);
    }
    .info {
      text-align: center;
      color: #888;
      font-size: 12px;
      max-width: 600px;
    }
    .status {
      margin-top: 10px;
      padding: 10px;
      background: #222;
      border-radius: 4px;
      font-size: 12px;
      color: #0f0;
    }
  </style>
</head>
<body>
  <h1>MasonEffect í…ŒìŠ¤íŠ¸</h1>
  <div id="mason-container" class="container"></div>
  
  <div class="controls">
    <button id="morph-btn">Morph (í…ìŠ¤íŠ¸ë¡œ ëª¨ì„)</button>
    <button id="scatter-btn">Scatter (ì´ˆê¸° ìœ„ì¹˜ë¡œ)</button>
    <button id="change-text-btn">í…ìŠ¤íŠ¸ ë³€ê²½</button>
    <button id="change-color-btn">ìƒ‰ìƒ ë³€ê²½</button>
  </div>

  <div class="info">
    <p>â€¢ ë§ˆìš°ìŠ¤ë¡œ ë“œë˜ê·¸ ê°€ëŠ¥ (í´ë¦­ ì‹œ í¡ì…, ì´ë™ ì‹œ ë°˜ë°œ)</p>
    <p>â€¢ ë¦¬ì‚¬ì´ì¦ˆ ë°˜ì‘í˜•</p>
    <div class="status" id="status">ì´ˆê¸°í™” ì¤‘...</div>
  </div>

  <script type="module">
    import { MasonEffect } from './src/core/index.js';

    const container = document.getElementById('mason-container');
    const statusEl = document.getElementById('status');
    
    let effect = null;
    const texts = ['Mason', 'Effect', 'Particles', 'Morph', 'Canvas'];
    const colors = ['#00ff88', '#ff00ff', '#00ffff', '#ffff00', '#ff8800', '#ffffff'];
    let currentTextIndex = 0;
    let currentColorIndex = 0;

    try {
      effect = new MasonEffect(container, {
        text: 'Mason Effect',
        particleColor: colors[0],
        maxParticles: 2000,
        onReady: (instance) => {
          statusEl.textContent = `âœ… ì´ˆê¸°í™” ì™„ë£Œ! íŒŒí‹°í´ ìˆ˜: ${instance.particles.length}, ìº”ë²„ìŠ¤: ${instance.W}x${instance.H}`;
          console.log('MasonEffect ì¤€ë¹„ ì™„ë£Œ!', instance);
        },
        onUpdate: (instance) => {
          // ì—…ë°ì´íŠ¸ë§ˆë‹¤ í˜¸ì¶œ (ì„ íƒì‚¬í•­)
        }
      });

      document.getElementById('morph-btn').addEventListener('click', () => {
        effect.morph();
        statusEl.textContent = 'ğŸ”„ Morph ì‹¤í–‰: í…ìŠ¤íŠ¸ë¡œ ëª¨ì„';
      });

      document.getElementById('scatter-btn').addEventListener('click', () => {
        effect.scatter();
        statusEl.textContent = 'ğŸ”„ Scatter ì‹¤í–‰: ì´ˆê¸° ìœ„ì¹˜ë¡œ ëŒì•„ê°';
      });

      document.getElementById('change-text-btn').addEventListener('click', () => {
        currentTextIndex = (currentTextIndex + 1) % texts.length;
        const newText = texts[currentTextIndex];
        effect.morph(newText);
        statusEl.textContent = `ğŸ“ í…ìŠ¤íŠ¸ ë³€ê²½: "${newText}"`;
      });

      document.getElementById('change-color-btn').addEventListener('click', () => {
        currentColorIndex = (currentColorIndex + 1) % colors.length;
        const newColor = colors[currentColorIndex];
        effect.morph({
          particleColor: newColor,
        });
        statusEl.textContent = `ğŸ¨ ìƒ‰ìƒ ë³€ê²½: ${newColor}`;
      });

    } catch (error) {
      statusEl.textContent = `âŒ ì—ëŸ¬: ${error.message}`;
      statusEl.style.color = '#f00';
      console.error('MasonEffect ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
    }
  </script>
</body>
</html>

